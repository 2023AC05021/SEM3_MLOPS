stages:
  preprocess_data:
    cmd: >-
      python scripts/02_preprocess_data.py
      --input-path raw/california_housing_raw.csv
      --output-path processed
      --test-size ${preprocess.test_size}
      --random-state ${preprocess.random_state}
    deps:
      - scripts/02_preprocess_data.py
      - raw/california_housing_raw.csv
    outs:
      - processed/train.csv
      - processed/test.csv
    params:
      - preprocess.test_size
      - preprocess.random_state
      - preprocess.stratify
    desc: "Preprocess raw data and create train/test splits with feature engineering"