schema: '2.0'
stages:
  feature_engineering:
    cmd: python data/scripts/03_feature_engineering.py --input-path 
      data/raw/california_housing_raw.csv --output-path 
      data/interim/features_engineered.csv
    deps:
    - path: data/raw/california_housing_raw.csv
      md5: e83310929aae5a77296d3da438a64aae
      size: 1915980
    - path: data/scripts/03_feature_engineering.py
      md5: 2172d41690fae1528203314ab904a7b8
      size: 6947
    outs:
    - path: data/interim/features_engineered.csv
      md5: 2b8e57ff0b81d8d773d1b8101a19be48
      size: 2335574
  split_data:
    cmd: python data/scripts/04_split_data.py --input-path 
      data/interim/features_engineered.csv --output-dir data/processed 
      --test-size 0.2 --random-state 42 --stratify
    deps:
    - path: data/interim/features_engineered.csv
      md5: 2b8e57ff0b81d8d773d1b8101a19be48
      size: 2335574
    - path: data/scripts/03_feature_engineering.py
      md5: 2172d41690fae1528203314ab904a7b8
      size: 6947
    params:
      params.yaml:
        preprocess.random_state: 42
        preprocess.stratify: false
        preprocess.test_size: 0.2
    outs:
    - path: data/processed/test.csv
      md5: 35ffb6701539d1ebd377a8c9c6dafc4d
      size: 460275
    - path: data/processed/train.csv
      md5: 81b2ff6d6f1da4c8ed1934d7fe7f7796
      size: 1836237
  train_model:
    cmd: python src/training/train.py --config-path src/config/params.yml
    deps:
    - path: data/processed/test.csv
      md5: 35ffb6701539d1ebd377a8c9c6dafc4d
      size: 460275
    - path: data/processed/train.csv
      md5: 81b2ff6d6f1da4c8ed1934d7fe7f7796
      size: 1836237
    - path: src/config/params.yml
      md5: ee5c82cf53125491731c33357aa35a9b
      size: 420
    - path: src/training/train.py
      md5: 050e3279f19afb0bd47c239394c2451b
      size: 11315
  save_model:
    cmd: python src/training/save_model.py --model-path 
      models/california_housing_model.pkl --config-path src/config/params.yml 
      --output-dir api/models/saved_model
    deps:
    - path: src/config/params.yml
      md5: ee5c82cf53125491731c33357aa35a9b
      size: 420
    - path: src/training/train.py
      md5: 050e3279f19afb0bd47c239394c2451b
      size: 11315
